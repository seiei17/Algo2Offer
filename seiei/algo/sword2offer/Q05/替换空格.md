# 05. 替换空格

### 题目

```
请实现一个函数，把字符串 s 中的每个空格替换成"%20"。

示例 1：
输入：s = "We are happy."
输出："We%20are%20happy."
 
限制：
0 <= s 的长度 <= 10000
```

##### 解法1

直接使用内建函数String.replaceAll()方法替换。

```java
return s.replaceAll(" ", "%20");
```

##### 解法2

使用StringBuilder / StringBuffer对象构造。

```java
public class Solution05 {
    public String replaceSpace(String s) {
        StringBuilder sb = new StringBuilder();
        for (char c: s.toCharArray()) {
            if (c == ' ') sb.append("%20");
            else sb.append(c);
        }
        return sb.toString();
    }
}
```

##### 解法3

创建char数组，添加string中的元素。

出现' '符号，需要替换为'%' + '2' + '0'。

1. 直接初始化char数组长度为3 * n。每次添加一个非空格元素，记数cnt++；如果出现空格元素，添加'%' + '2' + '0，cnt += 3。最后返回new String(charArr, 0, cnt)。

   ```java
   public String replaceSpace(String s) {
       int n = s.length();
       char[] charArr = new char[3 * n];
       int cnt = 0;
       for (int i = 0; i < n; i++) {
           char c = s.charAt(i);
           if (c == ' ') {
               charArr[cnt++] = '%';
               charArr[cnt++] = '2';
               charArr[cnt++] = '0';
           } else {
               charArr[cnt++] = c;
           }
       }
       return new String(charArr, 0, cnt);
   }
   ```

   方法速度很快，但是会有空间浪费。

2. 遍历两次string，第一次计算空格数量，再初始化char数组，第二次添加元素。

   ```java
   public String replaceSpace(String s) {
       int n = s.length();
       int cnt = 0;
       for (char c : s.toCharArray()) {
           if (c == ' ') cnt++;
       }
     
       char[] newArr = new char[n + 2 * cnt];
       int j = 0;
       for (int i = 0; i < n; i++) {
           char c = s.charAt(i);
           if (c == ' ') {
               newArr[j++] = '%';
               newArr[j++] = '2';
               newArr[j++] = '0';
           } else {
               newArr[j++] = c;
           }
       }
       return new String(newArr);
   }
   ```

   这种方法不会有空间浪费，但是会有性能损耗。