# 03. 数组中重复的数字

### 题目1

```
在一个长度为 n 的数组 nums 里的所有数字都在 0～n-1 的范围内。数组中某些数字是重复的，但不知道有几个数字重复了，也不知道每个数字重复了几次。请找出数组中任意一个重复的数字。

限制：2 <= n <= 100000
```

##### 解法1：

使用哈希表进行储存。

每次遍历到一个数，查询哈希表：如果存在，则重复，返回；否则，加入哈希表。

时间复杂度为O(n)，空间复杂度为O(n)。

##### 解法2：

直接对数组进行排序，然后查找是否存在重复。

时间复杂度为O(nlogn)，空间复杂度为O(1)。

##### 解法3：

使用哈希表的思想，原地修改数组。

因为数组长度为n，而元素取值为(0, n-1)，如果不存在重复的数字，则每个下标为i的位置可以存放值为i的元素。

```
遍历到下标为i的数：
	a[i] == i?:
		是，表示位置正确，遍历下一个数。
		否，表示位置不正确，应该调换到下标为a[i]处。查询a[i] == a[a[i]]?:
			是，表示位置已被占用，a[i]重复。
			否，交换i和a[i]的数，继续查询i。
```

时间复杂度为O(n),空间复杂度为O(1)。

```java
// 题目1 解法3：
public int findRepeatNumber(int[] nums) {
  int cur = 0, len = nums.length;
  int repeat = -1;
  while (cur < len) {
    if (nums[cur] != cur) {
      if (nums[nums[cur]] == nums[cur]) {
        repeat = nums[cur];
        break;
      }
      else {
        int t = nums[cur];
        nums[cur] = nums[nums[cur]];
        nums[t] = t;
      }
    } else {
      cur ++;
    }
  }
  return repeat;
}
```



### 题目2 - 空间复杂度为O(1)且不修改数组 / 二分法。

```
在一个长度为 n 的数组 nums 里的所有数字都在 1～n-1 的范围内。数组中某些数字是重复的，但不知道有几个数字重复了，也不知道每个数字重复了几次。请找出数组中任意一个重复的数字。

限制：2 <= n <= 100000
```

与题目1的区别为，元素取值为(1, n-1)。那么对于长度为n的数组，如果元素不重复，那么必不可能填满数组。所以在题解空间下，数组一定存在重复的项。

把1～n-1的数字从中间数字m分割：一部分为1～m的数，另一部分为m+1～n-1的数。如果前部分的个数大于m个，说明前部分出现重复，否则后部分出现重复。继续在包含重复项的区间取中间数字进行分割，直到找到重复的数字。

时间复杂度为O(n)，空间复杂度为O(1)，且不会修改数组。